{"version":3,"file":"cdk-experimental-menu.umd.js","sources":["../../../../../external/npm/node_modules/tslib/tslib.es6.js","../../../../../src/cdk-experimental/menu/menu-interface.ts","../../../../../src/cdk-experimental/menu/menu-stack.ts","../../../../../src/cdk-experimental/menu/menu-errors.ts","../../../../../src/cdk-experimental/menu/menu-aim.ts","../../../../../src/cdk-experimental/menu/menu-item-trigger.ts","../../../../../src/cdk-experimental/menu/menu-item.ts","../../../../../src/cdk-experimental/menu/menu-item-selectable.ts","../../../../../src/cdk-experimental/menu/menu-group.ts","../../../../../src/cdk-experimental/menu/menu-panel.ts","../../../../../src/cdk-experimental/menu/pointer-focus-tracker.ts","../../../../../src/cdk-experimental/menu/menu.ts","../../../../../src/cdk-experimental/menu/menu-bar.ts","../../../../../src/cdk-experimental/menu/menu-item-radio.ts","../../../../../src/cdk-experimental/menu/menu-item-checkbox.ts","../../../../../src/cdk-experimental/menu/context-menu.ts","../../../../../src/cdk-experimental/menu/menu-module.ts","../../../../../src/cdk-experimental/menu/public-api.ts","../../../../../src/cdk-experimental/menu/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {InjectionToken, ElementRef} from '@angular/core';\nimport {MenuStackItem} from './menu-stack';\nimport {FocusOrigin} from '@angular/cdk/a11y';\n\n/** Injection token used to return classes implementing the Menu interface */\nexport const CDK_MENU = new InjectionToken<Menu>('cdk-menu');\n\n/** Interface which specifies Menu operations and used to break circular dependency issues */\nexport interface Menu extends MenuStackItem {\n  /** The element the Menu directive is placed on. */\n  _elementRef: ElementRef<HTMLElement>;\n\n  /** The orientation of the menu */\n  orientation: 'horizontal' | 'vertical';\n\n  /** Place focus on the first MenuItem in the menu. */\n  focusFirstItem(focusOrigin: FocusOrigin): void;\n\n  /** Place focus on the last MenuItem in the menu. */\n  focusLastItem(focusOrigin: FocusOrigin): void;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Subject, Observable} from 'rxjs';\n\n/** Events to emit as specified by the caller once the MenuStack is empty. */\nexport const enum FocusNext {\n  nextItem,\n  previousItem,\n  currentItem,\n}\n\n/**\n * Interface for the elements tracked in the MenuStack.\n */\nexport interface MenuStackItem {\n  /** A reference to the previous Menus MenuStack instance. */\n  _menuStack: MenuStack | null;\n}\n\n/**\n * MenuStack allows subscribers to listen for close events (when a MenuStackItem is popped off\n * of the stack) in order to perform closing actions. Upon the MenuStack being empty it emits\n * from the `empty` observable specifying the next focus action which the listener should perform\n * as requested by the closer.\n */\nexport class MenuStack {\n  /** All MenuStackItems tracked by this MenuStack. */\n  private readonly _elements: MenuStackItem[] = [];\n\n  /** Emits the element which was popped off of the stack when requested by a closer. */\n  private readonly _close: Subject<MenuStackItem | undefined> = new Subject();\n\n  /** Emits once the MenuStack has become empty after popping off elements. */\n  private readonly _empty: Subject<FocusNext | undefined> = new Subject();\n\n  /** Observable which emits the MenuStackItem which has been requested to close. */\n  readonly closed: Observable<MenuStackItem | undefined> = this._close;\n\n  /**\n   * Observable which emits when the MenuStack is empty after popping off the last element. It\n   * emits a FocusNext event which specifies the action the closer has requested the listener\n   * perform.\n   */\n  readonly emptied: Observable<FocusNext | undefined> = this._empty;\n\n  /** @param menu the MenuStackItem to put on the stack. */\n  push(menu: MenuStackItem) {\n    this._elements.push(menu);\n  }\n\n  /**\n   * Pop items off of the stack up to and including `lastItem` and emit each on the close\n   * observable. If the stack is empty or `lastItem` is not on the stack it does nothing.\n   * @param lastItem the last item to pop off the stack.\n   * @param focusNext the event to emit on the `empty` observable if the method call resulted in an\n   * empty stack. Does not emit if the stack was initially empty or if `lastItem` was not on the\n   * stack.\n   */\n  close(lastItem: MenuStackItem, focusNext?: FocusNext) {\n    if (this._elements.indexOf(lastItem) >= 0) {\n      let poppedElement: MenuStackItem | undefined;\n      do {\n        poppedElement = this._elements.pop();\n        this._close.next(poppedElement);\n      } while (poppedElement !== lastItem);\n\n      if (this.isEmpty()) {\n        this._empty.next(focusNext);\n      }\n    }\n  }\n\n  /**\n   * Pop items off of the stack up to but excluding `lastItem` and emit each on the close\n   * observable. If the stack is empty or `lastItem` is not on the stack it does nothing.\n   * @param lastItem the element which should be left on the stack\n   * @return whether or not an item was removed from the stack\n   */\n  closeSubMenuOf(lastItem: MenuStackItem) {\n    let removed = false;\n    if (this._elements.indexOf(lastItem) >= 0) {\n      removed = this.peek() !== lastItem;\n      while (this.peek() !== lastItem) {\n        this._close.next(this._elements.pop());\n      }\n    }\n    return removed;\n  }\n\n  /**\n   * Pop off all MenuStackItems and emit each one on the `close` observable one by one.\n   * @param focusNext the event to emit on the `empty` observable once the stack is emptied. Does\n   * not emit if the stack was initially empty.\n   */\n  closeAll(focusNext?: FocusNext) {\n    if (!this.isEmpty()) {\n      while (!this.isEmpty()) {\n        const menuStackItem = this._elements.pop();\n        if (menuStackItem) {\n          this._close.next(menuStackItem);\n        }\n      }\n\n      this._empty.next(focusNext);\n    }\n  }\n\n  /** Return true if this stack is empty. */\n  isEmpty() {\n    return !this._elements.length;\n  }\n\n  /** Return the length of the stack. */\n  length() {\n    return this._elements.length;\n  }\n\n  /** Get the top most element on the stack. */\n  peek(): MenuStackItem | undefined {\n    return this._elements[this._elements.length - 1];\n  }\n}\n\n/** NoopMenuStack is a placeholder MenuStack used for inline menus. */\nexport class NoopMenuStack extends MenuStack {\n  /** Noop push - does not add elements to the MenuStack. */\n  push(_: MenuStackItem) {}\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Throws an exception when a menu panel already has a menu stack.\n * @docs-private\n */\nexport function throwExistingMenuStackError() {\n  throw Error(\n    'CdkMenuPanel is already referenced by different CdkMenuTrigger. Ensure that a menu is' +\n      ' opened by a single trigger only.'\n  );\n}\n\n/**\n * Throws an exception when an instance of the PointerFocusTracker is not provided.\n * @docs-private\n */\nexport function throwMissingPointerFocusTracker() {\n  throw Error('expected an instance of PointerFocusTracker to be provided');\n}\n\n/**\n * Throws an exception when a reference to the parent menu is not provided.\n * @docs-private\n */\nexport function throwMissingMenuReference() {\n  throw Error('expected a reference to the parent menu');\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injectable, NgZone, OnDestroy, InjectionToken, Directive} from '@angular/core';\nimport {fromEvent, Subject} from 'rxjs';\nimport {takeUntil, filter} from 'rxjs/operators';\nimport {PointerFocusTracker, FocusableElement} from './pointer-focus-tracker';\nimport {Menu} from './menu-interface';\nimport {throwMissingPointerFocusTracker, throwMissingMenuReference} from './menu-errors';\n\n/**\n * MenuAim is responsible for determining if a sibling menuitem's menu should be closed when a\n * Toggler item is hovered into. It is up to the hovered in item to call the MenuAim service in\n * order to determine if it may perform its close actions.\n */\nexport interface MenuAim {\n  /** Set the Menu and its PointerFocusTracker. */\n  initialize(menu: Menu, pointerTracker: PointerFocusTracker<FocusableElement & Toggler>): void;\n\n  /**\n   * Calls the `doToggle` callback when it is deemed that the user is not moving towards\n   * the submenu.\n   * @param doToggle the function called when the user is not moving towards the submenu.\n   */\n  toggle(doToggle: () => void): void;\n}\n\n/** Injection token used for an implementation of MenuAim. */\nexport const MENU_AIM = new InjectionToken<MenuAim>('cdk-menu-aim');\n\n/** Capture every nth mouse move event. */\nconst MOUSE_MOVE_SAMPLE_FREQUENCY = 3;\n\n/** The number of mouse move events to track. */\nconst NUM_POINTS = 5;\n\n/**\n * How long to wait before closing a sibling menu if a user stops short of the submenu they were\n * predicted to go into.\n */\nconst CLOSE_DELAY = 300;\n\n/**\n * An element which when hovered over may perform closing actions on the open submenu and\n * potentially open its own menu.\n */\nexport interface Toggler {\n  getMenu(): Menu | undefined;\n}\n\n/** Calculate the slope between point a and b. */\nfunction getSlope(a: Point, b: Point) {\n  return (b.y - a.y) / (b.x - a.x);\n}\n\n/** Calculate the y intercept for the given point and slope. */\nfunction getYIntercept(point: Point, slope: number) {\n  return point.y - slope * point.x;\n}\n\n/** Represents a coordinate of mouse travel. */\ntype Point = {x: number; y: number};\n\n/**\n * Whether the given mouse trajectory line defined by the slope and y intercept falls within the\n * submenu as defined by `submenuPoints`\n * @param submenuPoints the submenu DOMRect points.\n * @param m the slope of the trajectory line.\n * @param b the y intercept of the trajectory line.\n *\n * @return true if any point on the line falls within the submenu.\n */\nfunction isWithinSubmenu(submenuPoints: DOMRect, m: number, b: number) {\n  const {left, right, top, bottom} = submenuPoints;\n\n  // Check for intersection with each edge of the submenu (left, right, top, bottom)\n  // by fixing one coordinate to that edge's coordinate (either x or y) and checking if the\n  // other coordinate is within bounds.\n  return (\n    (m * left + b >= top && m * left + b <= bottom) ||\n    (m * right + b >= top && m * right + b <= bottom) ||\n    ((top - b) / m >= left && (top - b) / m <= right) ||\n    ((bottom - b) / m >= left && (bottom - b) / m <= right)\n  );\n}\n/**\n * TargetMenuAim predicts if a user is moving into a submenu. It calculates the\n * trajectory of the user's mouse movement in the current menu to determine if the\n * mouse is moving towards an open submenu.\n *\n * The determination is made by calculating the slope of the users last NUM_POINTS moves where each\n * pair of points determines if the trajectory line points into the submenu. It uses consensus\n * approach by checking if at least NUM_POINTS / 2 pairs determine that the user is moving towards\n * to submenu.\n */\n@Injectable()\nexport class TargetMenuAim implements MenuAim, OnDestroy {\n  /** The last NUM_POINTS mouse move events. */\n  private readonly _points: Point[] = [];\n\n  /** Reference to the root menu in which we are tracking mouse moves. */\n  private _menu: Menu;\n\n  /** Reference to the root menu's mouse manager. */\n  private _pointerTracker: PointerFocusTracker<Toggler & FocusableElement>;\n\n  /** The id associated with the current timeout call waiting to resolve. */\n  private _timeoutId: number | null;\n\n  /** Emits when this service is destroyed. */\n  private readonly _destroyed: Subject<void> = new Subject();\n\n  constructor(private readonly _ngZone: NgZone) {}\n\n  /** Set the Menu and its PointerFocusTracker. */\n  initialize(menu: Menu, pointerTracker: PointerFocusTracker<FocusableElement & Toggler>) {\n    this._menu = menu;\n    this._pointerTracker = pointerTracker;\n    this._subscribeToMouseMoves();\n  }\n\n  /**\n   * Calls the `doToggle` callback when it is deemed that the user is not moving towards\n   * the submenu.\n   * @param doToggle the function called when the user is not moving towards the submenu.\n   */\n  toggle(doToggle: () => void) {\n    // If the menu is horizontal the sub-menus open below and there is no risk of premature\n    // closing of any sub-menus therefore we automatically resolve the callback.\n    if (this._menu.orientation === 'horizontal') {\n      doToggle();\n    }\n\n    this._checkConfigured();\n\n    const siblingItemIsWaiting = !!this._timeoutId;\n    const hasPoints = this._points.length > 1;\n\n    if (hasPoints && !siblingItemIsWaiting) {\n      if (this._isMovingToSubmenu()) {\n        this._startTimeout(doToggle);\n      } else {\n        doToggle();\n      }\n    } else if (!siblingItemIsWaiting) {\n      doToggle();\n    }\n  }\n\n  /**\n   * Start the delayed toggle handler if one isn't running already.\n   *\n   * The delayed toggle handler executes the `doToggle` callback after some period of time iff the\n   * users mouse is on an item in the current menu.\n   */\n  private _startTimeout(doToggle: () => void) {\n    // If the users mouse is moving towards a submenu we don't want to immediately resolve.\n    // Wait for some period of time before determining if the previous menu should close in\n    // cases where the user may have moved towards the submenu but stopped on a sibling menu\n    // item intentionally.\n    const timeoutId = (setTimeout(() => {\n      // Resolve if the user is currently moused over some element in the root menu\n      if (this._pointerTracker!.activeElement && timeoutId === this._timeoutId) {\n        doToggle();\n      }\n      this._timeoutId = null;\n    }, CLOSE_DELAY) as any) as number;\n\n    this._timeoutId = timeoutId;\n  }\n\n  /** Whether the user is heading towards the open submenu. */\n  private _isMovingToSubmenu() {\n    const submenuPoints = this._getSubmenuBounds();\n    if (!submenuPoints) {\n      return false;\n    }\n\n    let numMoving = 0;\n    const currPoint = this._points[this._points.length - 1];\n    // start from the second last point and calculate the slope between each point and the last\n    // point.\n    for (let i = this._points.length - 2; i >= 0; i--) {\n      const previous = this._points[i];\n      const slope = getSlope(currPoint, previous);\n      if (isWithinSubmenu(submenuPoints, slope, getYIntercept(currPoint, slope))) {\n        numMoving++;\n      }\n    }\n    return numMoving >= Math.floor(NUM_POINTS / 2);\n  }\n\n  /** Get the bounding DOMRect for the open submenu. */\n  private _getSubmenuBounds(): DOMRect | undefined {\n    return this._pointerTracker?.previousElement\n      ?.getMenu()\n      ?._elementRef.nativeElement.getBoundingClientRect();\n  }\n\n  /**\n   * Check if a reference to the PointerFocusTracker and menu element is provided.\n   * @throws an error if neither reference is provided.\n   */\n  private _checkConfigured() {\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      if (!this._pointerTracker) {\n        throwMissingPointerFocusTracker();\n      }\n      if (!this._menu) {\n        throwMissingMenuReference();\n      }\n    }\n  }\n\n  /** Subscribe to the root menus mouse move events and update the tracked mouse points. */\n  private _subscribeToMouseMoves() {\n    this._ngZone.runOutsideAngular(() => {\n      fromEvent<MouseEvent>(this._menu._elementRef.nativeElement, 'mousemove')\n        .pipe(\n          filter((_: MouseEvent, index: number) => index % MOUSE_MOVE_SAMPLE_FREQUENCY === 0),\n          takeUntil(this._destroyed)\n        )\n        .subscribe((event: MouseEvent) => {\n          this._points.push({x: event.clientX, y: event.clientY});\n          if (this._points.length > NUM_POINTS) {\n            this._points.shift();\n          }\n        });\n    });\n  }\n\n  ngOnDestroy() {\n    this._destroyed.next();\n    this._destroyed.complete();\n  }\n}\n\n/**\n * CdkTargetMenuAim is a provider for the TargetMenuAim service. It should be added to an\n * element with either the `cdkMenu` or `cdkMenuBar` directive and child menu items.\n */\n@Directive({\n  selector: '[cdkTargetMenuAim]',\n  exportAs: 'cdkTargetMenuAim',\n  providers: [{provide: MENU_AIM, useClass: TargetMenuAim}],\n})\nexport class CdkTargetMenuAim {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Directive,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  ViewContainerRef,\n  Inject,\n  OnDestroy,\n  Optional,\n  NgZone,\n} from '@angular/core';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {TemplatePortal} from '@angular/cdk/portal';\nimport {\n  OverlayRef,\n  Overlay,\n  OverlayConfig,\n  ConnectedPosition,\n  FlexibleConnectedPositionStrategy,\n} from '@angular/cdk/overlay';\nimport {SPACE, ENTER, RIGHT_ARROW, LEFT_ARROW, DOWN_ARROW, UP_ARROW} from '@angular/cdk/keycodes';\nimport {fromEvent, Subject, merge} from 'rxjs';\nimport {takeUntil, filter} from 'rxjs/operators';\nimport {CdkMenuPanel} from './menu-panel';\nimport {Menu, CDK_MENU} from './menu-interface';\nimport {FocusNext, MenuStack} from './menu-stack';\nimport {throwExistingMenuStackError} from './menu-errors';\nimport {MENU_AIM, MenuAim} from './menu-aim';\n\n/**\n * Whether the target element is a menu item to be ignored by the overlay background click handler.\n */\nexport function isClickInsideMenuOverlay(target: Element): boolean {\n  while (target?.parentElement) {\n    const isOpenTrigger =\n      target.getAttribute('aria-expanded') === 'true' &&\n      target.classList.contains('cdk-menu-trigger');\n    const isOverlayMenu =\n      target.classList.contains('cdk-menu') && !target.classList.contains('cdk-menu-inline');\n\n    if (isOpenTrigger || isOverlayMenu) {\n      return true;\n    }\n    target = target.parentElement;\n  }\n  return false;\n}\n\n/**\n * A directive to be combined with CdkMenuItem which opens the Menu it is bound to. If the\n * element is in a top level MenuBar it will open the menu on click, or if a sibling is already\n * opened it will open on hover. If it is inside of a Menu it will open the attached Submenu on\n * hover regardless of its sibling state.\n *\n * The directive must be placed along with the `cdkMenuItem` directive in order to enable full\n * functionality.\n */\n@Directive({\n  selector: '[cdkMenuTriggerFor]',\n  exportAs: 'cdkMenuTriggerFor',\n  host: {\n    '(keydown)': '_toggleOnKeydown($event)',\n    '(click)': 'toggle()',\n    'class': 'cdk-menu-trigger',\n    'aria-haspopup': 'menu',\n    '[attr.aria-expanded]': 'isMenuOpen()',\n  },\n})\nexport class CdkMenuItemTrigger implements OnDestroy {\n  /** Template reference variable to the menu this trigger opens */\n  @Input('cdkMenuTriggerFor')\n  get menuPanel(): CdkMenuPanel | undefined {\n    return this._menuPanel;\n  }\n  set menuPanel(panel: CdkMenuPanel | undefined) {\n    // If the provided panel already has a stack, that means it already has a trigger configured.\n    // Note however that there are some edge cases where two triggers **may** share the same menu,\n    // e.g. two triggers in two separate menus.\n    if ((typeof ngDevMode === 'undefined' || ngDevMode) && panel?._menuStack) {\n      throwExistingMenuStackError();\n    }\n\n    this._menuPanel = panel;\n    if (this._menuPanel) {\n      this._menuPanel._menuStack = this._getMenuStack();\n    }\n  }\n\n  /** Reference to the MenuPanel this trigger toggles. */\n  private _menuPanel?: CdkMenuPanel;\n\n  /** Emits when the attached menu is requested to open */\n  @Output('cdkMenuOpened') readonly opened: EventEmitter<void> = new EventEmitter();\n\n  /** Emits when the attached menu is requested to close */\n  @Output('cdkMenuClosed') readonly closed: EventEmitter<void> = new EventEmitter();\n\n  /** The menu stack for this trigger and its sub-menus. */\n  _menuStack: MenuStack = new MenuStack();\n\n  /** A reference to the overlay which manages the triggered menu */\n  private _overlayRef: OverlayRef | null = null;\n\n  /** The content of the menu panel opened by this trigger. */\n  private _panelContent: TemplatePortal;\n\n  /** Emits when this trigger is destroyed. */\n  private readonly _destroyed: Subject<void> = new Subject();\n\n  /** Emits when the outside pointer events listener on the overlay should be stopped. */\n  private readonly _stopOutsideClicksListener = merge(this.closed, this._destroyed);\n\n  constructor(\n    private readonly _elementRef: ElementRef<HTMLElement>,\n    protected readonly _viewContainerRef: ViewContainerRef,\n    private readonly _overlay: Overlay,\n    private readonly _ngZone: NgZone,\n    @Optional() @Inject(CDK_MENU) private readonly _parentMenu?: Menu,\n    @Optional() @Inject(MENU_AIM) private readonly _menuAim?: MenuAim,\n    @Optional() private readonly _directionality?: Directionality\n  ) {\n    this._registerCloseHandler();\n    this._subscribeToMouseEnter();\n  }\n\n  /** Open/close the attached menu if the trigger has been configured with one */\n  toggle() {\n    if (this.hasMenu()) {\n      this.isMenuOpen() ? this.closeMenu() : this.openMenu();\n    }\n  }\n\n  /** Open the attached menu. */\n  openMenu() {\n    if (!this.isMenuOpen()) {\n      this.opened.next();\n\n      this._overlayRef = this._overlayRef || this._overlay.create(this._getOverlayConfig());\n      this._overlayRef.attach(this._getPortal());\n      this._subscribeToOutsideClicks();\n    }\n  }\n\n  /** Close the opened menu. */\n  closeMenu() {\n    if (this.isMenuOpen()) {\n      this.closed.next();\n\n      this._overlayRef!.detach();\n    }\n    this._closeSiblingTriggers();\n  }\n\n  /** Return true if the trigger has an attached menu */\n  hasMenu() {\n    return !!this.menuPanel;\n  }\n\n  /** Whether the menu this button is a trigger for is open */\n  isMenuOpen() {\n    return this._overlayRef ? this._overlayRef.hasAttached() : false;\n  }\n\n  /**\n   * Get a reference to the rendered Menu if the Menu is open and it is visible in the DOM.\n   * @return the menu if it is open, otherwise undefined.\n   */\n  getMenu(): Menu | undefined {\n    return this.menuPanel?._menu;\n  }\n\n  /**\n   * Subscribe to the mouseenter events and close any sibling menu items if this element is moused\n   * into.\n   */\n  private _subscribeToMouseEnter() {\n    // Closes any sibling menu items and opens the menu associated with this trigger.\n    const toggleMenus = () =>\n      this._ngZone.run(() => {\n        this._closeSiblingTriggers();\n        this.openMenu();\n      });\n\n    this._ngZone.runOutsideAngular(() => {\n      fromEvent(this._elementRef.nativeElement, 'mouseenter')\n        .pipe(\n          filter(() => !this._getMenuStack()?.isEmpty() && !this.isMenuOpen()),\n          takeUntil(this._destroyed)\n        )\n        .subscribe(() => {\n          if (this._menuAim) {\n            this._menuAim.toggle(toggleMenus);\n          } else {\n            toggleMenus();\n          }\n        });\n    });\n  }\n\n  /**\n   * Handles keyboard events for the menu item, specifically opening/closing the attached menu and\n   * focusing the appropriate submenu item.\n   * @param event the keyboard event to handle\n   */\n  _toggleOnKeydown(event: KeyboardEvent) {\n    const keyCode = event.keyCode;\n    switch (keyCode) {\n      case SPACE:\n      case ENTER:\n        event.preventDefault();\n        this.toggle();\n        this.menuPanel?._menu?.focusFirstItem('keyboard');\n        break;\n\n      case RIGHT_ARROW:\n        if (this._parentMenu && this._isParentVertical()) {\n          event.preventDefault();\n          if (this._directionality?.value === 'rtl') {\n            this._getMenuStack().close(this._parentMenu, FocusNext.currentItem);\n          } else {\n            this.openMenu();\n            this.menuPanel?._menu?.focusFirstItem('keyboard');\n          }\n        }\n        break;\n\n      case LEFT_ARROW:\n        if (this._parentMenu && this._isParentVertical()) {\n          event.preventDefault();\n          if (this._directionality?.value === 'rtl') {\n            this.openMenu();\n            this.menuPanel?._menu?.focusFirstItem('keyboard');\n          } else {\n            this._getMenuStack().close(this._parentMenu, FocusNext.currentItem);\n          }\n        }\n        break;\n\n      case DOWN_ARROW:\n      case UP_ARROW:\n        if (!this._isParentVertical()) {\n          event.preventDefault();\n          this.openMenu();\n          keyCode === DOWN_ARROW\n            ? this.menuPanel?._menu?.focusFirstItem('keyboard')\n            : this.menuPanel?._menu?.focusLastItem('keyboard');\n        }\n        break;\n    }\n  }\n\n  /** Close out any sibling menu trigger menus. */\n  private _closeSiblingTriggers() {\n    if (this._parentMenu) {\n      const menuStack = this._getMenuStack();\n\n      // If nothing was removed from the stack and the last element is not the parent item\n      // that means that the parent menu is a menu bar since we don't put the menu bar on the\n      // stack\n      const isParentMenuBar =\n        !menuStack.closeSubMenuOf(this._parentMenu) && menuStack.peek() !== this._parentMenu;\n\n      if (isParentMenuBar) {\n        menuStack.closeAll();\n      }\n    } else {\n      this._getMenuStack().closeAll();\n    }\n  }\n\n  /** Get the configuration object used to create the overlay */\n  private _getOverlayConfig() {\n    return new OverlayConfig({\n      positionStrategy: this._getOverlayPositionStrategy(),\n      scrollStrategy: this._overlay.scrollStrategies.block(),\n      direction: this._directionality,\n    });\n  }\n\n  /** Build the position strategy for the overlay which specifies where to place the menu */\n  private _getOverlayPositionStrategy(): FlexibleConnectedPositionStrategy {\n    return this._overlay\n      .position()\n      .flexibleConnectedTo(this._elementRef)\n      .withPositions(this._getOverlayPositions());\n  }\n\n  /** Determine and return where to position the opened menu relative to the menu item */\n  private _getOverlayPositions(): ConnectedPosition[] {\n    // TODO: use a common positioning config from (possibly) cdk/overlay\n    return !this._parentMenu || this._parentMenu.orientation === 'horizontal'\n      ? [\n          {originX: 'start', originY: 'bottom', overlayX: 'start', overlayY: 'top'},\n          {originX: 'start', originY: 'top', overlayX: 'start', overlayY: 'bottom'},\n          {originX: 'end', originY: 'bottom', overlayX: 'end', overlayY: 'top'},\n          {originX: 'end', originY: 'top', overlayX: 'end', overlayY: 'bottom'},\n        ]\n      : [\n          {originX: 'end', originY: 'top', overlayX: 'start', overlayY: 'top'},\n          {originX: 'end', originY: 'bottom', overlayX: 'start', overlayY: 'bottom'},\n          {originX: 'start', originY: 'top', overlayX: 'end', overlayY: 'top'},\n          {originX: 'start', originY: 'bottom', overlayX: 'end', overlayY: 'bottom'},\n        ];\n  }\n\n  /**\n   * Get the portal to be attached to the overlay which contains the menu. Allows for the menu\n   * content to change dynamically and be reflected in the application.\n   */\n  private _getPortal() {\n    const hasMenuContentChanged = this.menuPanel?._templateRef !== this._panelContent?.templateRef;\n    if (this.menuPanel && (!this._panelContent || hasMenuContentChanged)) {\n      this._panelContent = new TemplatePortal(this.menuPanel._templateRef, this._viewContainerRef);\n    }\n\n    return this._panelContent;\n  }\n\n  /**\n   * @return true if if the enclosing parent menu is configured in a vertical orientation.\n   */\n  private _isParentVertical() {\n    return this._parentMenu?.orientation === 'vertical';\n  }\n\n  /**\n   * Subscribe to the MenuStack close events if this is a standalone trigger and close out the menu\n   * this triggers when requested.\n   */\n  private _registerCloseHandler() {\n    if (!this._parentMenu) {\n      this._menuStack.closed.pipe(takeUntil(this._destroyed)).subscribe(item => {\n        if (item === this._menuPanel?._menu) {\n          this.closeMenu();\n        }\n      });\n    }\n  }\n\n  /** Get the menu stack for this trigger - either from the parent or this trigger. */\n  private _getMenuStack() {\n    // We use a function since at the construction of the MenuItemTrigger the parent Menu won't have\n    // its menu stack set. Therefore we need to reference the menu stack from the parent each time\n    // we want to use it.\n    return this._parentMenu?._menuStack || this._menuStack;\n  }\n\n  ngOnDestroy() {\n    this._destroyOverlay();\n    this._resetPanelMenuStack();\n\n    this._destroyed.next();\n    this._destroyed.complete();\n  }\n\n  /** Set the menu panels menu stack back to null. */\n  private _resetPanelMenuStack() {\n    // If a CdkMenuTrigger is placed in a submenu, each time the trigger is rendered (its parent\n    // menu is opened) the panel setter for CdkMenuPanel is called. From the first render onward,\n    // the attached CdkMenuPanel has the MenuStack set. Since we throw an error if a panel already\n    // has a stack set, we want to reset the attached stack here to prevent the error from being\n    // thrown if the trigger re-configures its attached panel (in the case where there is a 1:1\n    // relationship between the panel and trigger).\n    if (this._menuPanel) {\n      this._menuPanel._menuStack = null;\n    }\n  }\n\n  /**\n   * Subscribe to the overlays outside pointer events stream and handle closing out the stack if a\n   * click occurs outside the menus.\n   */\n  private _subscribeToOutsideClicks() {\n    if (this._overlayRef) {\n      this._overlayRef\n        .outsidePointerEvents()\n        .pipe(takeUntil(this._stopOutsideClicksListener))\n        .subscribe(event => {\n          if (!isClickInsideMenuOverlay(event.target as Element)) {\n            this._getMenuStack().closeAll();\n          }\n        });\n    }\n  }\n\n  /** Destroy and unset the overlay reference it if exists */\n  private _destroyOverlay() {\n    if (this._overlayRef) {\n      this._overlayRef.dispose();\n      this._overlayRef = null;\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Directive,\n  Input,\n  Optional,\n  Self,\n  ElementRef,\n  Output,\n  EventEmitter,\n  Inject,\n  HostListener,\n  NgZone,\n  OnDestroy,\n} from '@angular/core';\nimport {coerceBooleanProperty, BooleanInput} from '@angular/cdk/coercion';\nimport {FocusableOption} from '@angular/cdk/a11y';\nimport {SPACE, ENTER, RIGHT_ARROW, LEFT_ARROW} from '@angular/cdk/keycodes';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {Subject, fromEvent} from 'rxjs';\nimport {takeUntil, filter} from 'rxjs/operators';\nimport {CdkMenuItemTrigger} from './menu-item-trigger';\nimport {Menu, CDK_MENU} from './menu-interface';\nimport {FocusNext} from './menu-stack';\nimport {FocusableElement} from './pointer-focus-tracker';\nimport {Toggler, MENU_AIM, MenuAim} from './menu-aim';\n\n// TODO refactor this to be configurable allowing for custom elements to be removed\n/** Removes all icons from within the given element. */\nfunction removeIcons(element: Element) {\n  for (const icon of Array.from(element.querySelectorAll('mat-icon, .material-icons'))) {\n    icon.parentNode?.removeChild(icon);\n  }\n}\n\n/**\n * Directive which provides the ability for an element to be focused and navigated to using the\n * keyboard when residing in a CdkMenu, CdkMenuBar, or CdkMenuGroup. It performs user defined\n * behavior when clicked.\n */\n@Directive({\n  selector: '[cdkMenuItem]',\n  exportAs: 'cdkMenuItem',\n  host: {\n    '[tabindex]': '_tabindex',\n    'type': 'button',\n    'role': 'menuitem',\n    'class': 'cdk-menu-item',\n    '[attr.aria-disabled]': 'disabled || null',\n  },\n})\nexport class CdkMenuItem implements FocusableOption, FocusableElement, Toggler, OnDestroy {\n  /**  Whether the CdkMenuItem is disabled - defaults to false */\n  @Input()\n  get disabled(): boolean {\n    return this._disabled;\n  }\n  set disabled(value: boolean) {\n    this._disabled = coerceBooleanProperty(value);\n  }\n  private _disabled = false;\n\n  /**\n   * If this MenuItem is a regular MenuItem, outputs when it is triggered by a keyboard or mouse\n   * event.\n   */\n  @Output('cdkMenuItemTriggered') readonly triggered: EventEmitter<void> = new EventEmitter();\n\n  /**\n   * The tabindex for this menu item managed internally and used for implementing roving a\n   * tab index.\n   */\n  _tabindex: 0 | -1 = -1;\n\n  /** Emits when the menu item is destroyed. */\n  private readonly _destroyed = new Subject<void>();\n\n  constructor(\n    readonly _elementRef: ElementRef<HTMLElement>,\n    private readonly _ngZone: NgZone,\n    @Optional() @Inject(CDK_MENU) private readonly _parentMenu?: Menu,\n    @Optional() @Inject(MENU_AIM) private readonly _menuAim?: MenuAim,\n    @Optional() private readonly _dir?: Directionality,\n    /** Reference to the CdkMenuItemTrigger directive if one is added to the same element */\n    // `CdkMenuItem` is commonly used in combination with a `CdkMenuItemTrigger`.\n    // tslint:disable-next-line: lightweight-tokens\n    @Self() @Optional() private readonly _menuTrigger?: CdkMenuItemTrigger\n  ) {\n    this._setupMouseEnter();\n\n    if (this._isStandaloneItem()) {\n      this._tabindex = 0;\n    }\n  }\n\n  /** Place focus on the element. */\n  focus() {\n    this._elementRef.nativeElement.focus();\n  }\n\n  // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n  // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n  // can move this back into `host`.\n  // tslint:disable:no-host-decorator-in-concrete\n  @HostListener('blur')\n  @HostListener('mouseout')\n  /** Reset the _tabindex to -1. */\n  _resetTabIndex() {\n    if (!this._isStandaloneItem()) {\n      this._tabindex = -1;\n    }\n  }\n\n  // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n  // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n  // can move this back into `host`.\n  // tslint:disable:no-host-decorator-in-concrete\n  @HostListener('focus')\n  @HostListener('mouseenter', ['$event'])\n  /**\n   * Set the tab index to 0 if not disabled and it's a focus event, or a mouse enter if this element\n   * is not in a menu bar.\n   */\n  _setTabIndex(event?: MouseEvent) {\n    if (this.disabled) {\n      return;\n    }\n\n    // don't set the tabindex if there are no open sibling or parent menus\n    if (!event || !this._getMenuStack()?.isEmpty()) {\n      this._tabindex = 0;\n    }\n  }\n\n  /** Whether this menu item is standalone or within a menu or menu bar. */\n  _isStandaloneItem() {\n    return !this._parentMenu;\n  }\n\n  // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n  // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n  // can move this back into `host`.\n  // tslint:disable:no-host-decorator-in-concrete\n  @HostListener('click')\n  /**\n   * If the menu item is not disabled and the element does not have a menu trigger attached, emit\n   * on the cdkMenuItemTriggered emitter and close all open menus.\n   */\n  trigger() {\n    if (!this.disabled && !this.hasMenu()) {\n      this.triggered.next();\n      this._getMenuStack()?.closeAll();\n    }\n  }\n\n  /** Whether the menu item opens a menu. */\n  hasMenu() {\n    return !!this._menuTrigger?.hasMenu();\n  }\n\n  /** Return true if this MenuItem has an attached menu and it is open. */\n  isMenuOpen() {\n    return !!this._menuTrigger?.isMenuOpen();\n  }\n\n  /**\n   * Get a reference to the rendered Menu if the Menu is open and it is visible in the DOM.\n   * @return the menu if it is open, otherwise undefined.\n   */\n  getMenu(): Menu | undefined {\n    return this._menuTrigger?.getMenu();\n  }\n\n  /** Get the MenuItemTrigger associated with this element. */\n  getMenuTrigger(): CdkMenuItemTrigger | undefined {\n    return this._menuTrigger;\n  }\n\n  /** Get the label for this element which is required by the FocusableOption interface. */\n  getLabel(): string {\n    // TODO cloning the tree may be expensive; implement a better method\n    // we know that the current node is an element type\n    const clone = this._elementRef.nativeElement.cloneNode(true) as Element;\n    removeIcons(clone);\n\n    return clone.textContent?.trim() || '';\n  }\n\n  // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n  // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n  // can move this back into `host`.\n  // tslint:disable:no-host-decorator-in-concrete\n  @HostListener('keydown', ['$event'])\n  /**\n   * Handles keyboard events for the menu item, specifically either triggering the user defined\n   * callback or opening/closing the current menu based on whether the left or right arrow key was\n   * pressed.\n   * @param event the keyboard event to handle\n   */\n  _onKeydown(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case SPACE:\n      case ENTER:\n        event.preventDefault();\n        this.trigger();\n        break;\n\n      case RIGHT_ARROW:\n        if (this._parentMenu && this._isParentVertical() && !this.hasMenu()) {\n          event.preventDefault();\n          this._dir?.value === 'rtl'\n            ? this._getMenuStack()?.close(this._parentMenu, FocusNext.previousItem)\n            : this._getMenuStack()?.closeAll(FocusNext.nextItem);\n        }\n        break;\n\n      case LEFT_ARROW:\n        if (this._parentMenu && this._isParentVertical() && !this.hasMenu()) {\n          event.preventDefault();\n          this._dir?.value === 'rtl'\n            ? this._getMenuStack()?.closeAll(FocusNext.nextItem)\n            : this._getMenuStack()?.close(this._parentMenu, FocusNext.previousItem);\n        }\n        break;\n    }\n  }\n\n  /**\n   * Subscribe to the mouseenter events and close any sibling menu items if this element is moused\n   * into.\n   */\n  private _setupMouseEnter() {\n    if (!this._isStandaloneItem()) {\n      const closeOpenSiblings = () =>\n        this._ngZone.run(() => this._getMenuStack()?.closeSubMenuOf(this._parentMenu!));\n\n      this._ngZone.runOutsideAngular(() =>\n        fromEvent(this._elementRef.nativeElement, 'mouseenter')\n          .pipe(\n            filter(() => !this._getMenuStack()?.isEmpty() && !this.hasMenu()),\n            takeUntil(this._destroyed)\n          )\n          .subscribe(() => {\n            if (this._menuAim) {\n              this._menuAim.toggle(closeOpenSiblings);\n            } else {\n              closeOpenSiblings();\n            }\n          })\n      );\n    }\n  }\n\n  /**\n   * Return true if the enclosing parent menu is configured in a horizontal orientation, false\n   * otherwise or if no parent.\n   */\n  private _isParentVertical() {\n    return this._parentMenu?.orientation === 'vertical';\n  }\n\n  /** Get the MenuStack from the parent menu. */\n  private _getMenuStack() {\n    // We use a function since at the construction of the MenuItemTrigger the parent Menu won't have\n    // its menu stack set. Therefore we need to reference the menu stack from the parent each time\n    // we want to use it.\n    return this._parentMenu?._menuStack;\n  }\n\n  ngOnDestroy() {\n    this._destroyed.next();\n  }\n\n  static ngAcceptInputType_disabled: BooleanInput;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {coerceBooleanProperty, BooleanInput} from '@angular/cdk/coercion';\nimport {Input, Directive, Output, EventEmitter} from '@angular/core';\nimport {CdkMenuItem} from './menu-item';\n\n/** Counter used to set a unique id and name for a selectable item */\nlet nextId = 0;\n\n/**\n * Base class providing checked state for MenuItems along with outputting a clicked event when the\n * element is triggered. It provides functionality for selectable elements.\n */\n@Directive()\nexport abstract class CdkMenuItemSelectable extends CdkMenuItem {\n  /** Event emitted when the selectable item is clicked */\n  @Output('cdkMenuItemToggled') readonly toggled: EventEmitter<CdkMenuItemSelectable> =\n      new EventEmitter();\n\n  /** Whether the element is checked */\n  @Input()\n  get checked() {\n    return this._checked;\n  }\n  set checked(value: boolean) {\n    this._checked = coerceBooleanProperty(value);\n  }\n  private _checked = false;\n\n  /** The name of the selectable element with a default value */\n  @Input() name: string = `cdk-selectable-item-${nextId++}`;\n\n  /** The id of the selectable element with a default value */\n  @Input() id: string = `cdk-selectable-item-${nextId++}`;\n\n  /** If the element is not disabled emit the click event */\n  trigger() {\n    if (!this.disabled) {\n      this.toggled.next(this);\n    }\n  }\n\n  static ngAcceptInputType_checked: BooleanInput;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Directive,\n  Output,\n  EventEmitter,\n  ContentChildren,\n  AfterContentInit,\n  QueryList,\n  OnDestroy,\n} from '@angular/core';\nimport {UniqueSelectionDispatcher} from '@angular/cdk/collections';\nimport {takeUntil} from 'rxjs/operators';\nimport {CdkMenuItemSelectable} from './menu-item-selectable';\nimport {CdkMenuItem} from './menu-item';\n\n/**\n * Directive which acts as a grouping container for `CdkMenuItem` instances with\n * `role=\"menuitemradio\"`, similar to a `role=\"radiogroup\"` element.\n */\n@Directive({\n  selector: '[cdkMenuGroup]',\n  exportAs: 'cdkMenuGroup',\n  host: {\n    'role': 'group',\n    'class': 'cdk-menu-group',\n  },\n  providers: [{provide: UniqueSelectionDispatcher, useClass: UniqueSelectionDispatcher}],\n})\nexport class CdkMenuGroup implements AfterContentInit, OnDestroy {\n  /** Emits the element when checkbox or radiobutton state changed  */\n  @Output() readonly change: EventEmitter<CdkMenuItem> = new EventEmitter();\n\n  /** List of menuitemcheckbox or menuitemradio elements which reside in this group */\n  @ContentChildren(CdkMenuItemSelectable, {descendants: true})\n  private readonly _selectableItems: QueryList<CdkMenuItemSelectable>;\n\n  /** Emits when the _selectableItems QueryList triggers a change */\n  private readonly _selectableChanges: EventEmitter<void> = new EventEmitter();\n\n  ngAfterContentInit() {\n    this._registerMenuSelectionListeners();\n  }\n\n  /**\n   * Register the child selectable elements with the change emitter and ensure any new child\n   * elements do so as well.\n   */\n  private _registerMenuSelectionListeners() {\n    this._selectableItems.forEach(selectable => this._registerClickListener(selectable));\n\n    this._selectableItems.changes.subscribe((selectableItems: QueryList<CdkMenuItemSelectable>) => {\n      this._selectableChanges.next();\n      selectableItems.forEach(selectable => this._registerClickListener(selectable));\n    });\n  }\n\n  /** Register each selectable to emit on the change Emitter when clicked */\n  private _registerClickListener(selectable: CdkMenuItemSelectable) {\n    selectable.toggled\n      .pipe(takeUntil(this._selectableChanges))\n      .subscribe(() => this.change.next(selectable));\n  }\n\n  ngOnDestroy() {\n    this._selectableChanges.next();\n    this._selectableChanges.complete();\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive, TemplateRef} from '@angular/core';\nimport {Menu} from './menu-interface';\nimport {MenuStack} from './menu-stack';\n\n/**\n * Directive applied to an ng-template which wraps a CdkMenu and provides a reference to the\n * child element it wraps which allows for opening of the CdkMenu in an overlay.\n */\n@Directive({selector: 'ng-template[cdkMenuPanel]', exportAs: 'cdkMenuPanel'})\nexport class CdkMenuPanel {\n  /** Reference to the child menu component */\n  _menu?: Menu;\n\n  /** Keep track of open Menus. */\n  _menuStack: MenuStack | null;\n\n  constructor(readonly _templateRef: TemplateRef<unknown>) {}\n\n  /**\n   * Set the Menu component on the menu panel. Since we cannot use ContentChild to fetch the\n   * child Menu component, the child Menu must register its self with the parent MenuPanel.\n   */\n  _registerMenu(child: Menu) {\n    this._menu = child;\n\n    // The ideal solution would be to affect the CdkMenuPanel injector from the CdkMenuTrigger and\n    // inject the menu stack reference into the child menu and menu items, however this isn't\n    // possible at this time.\n    this._menu._menuStack = this._menuStack;\n    this._menuStack?.push(child);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {QueryList, ElementRef} from '@angular/core';\nimport {fromEvent, Observable, defer, Subject} from 'rxjs';\nimport {mapTo, mergeAll, takeUntil, startWith, mergeMap} from 'rxjs/operators';\n\n/** Item to track for mouse focus events. */\nexport interface FocusableElement {\n  /** A reference to the element to be tracked. */\n  _elementRef: ElementRef<HTMLElement>;\n}\n\n/**\n * PointerFocusTracker keeps track of the currently active item under mouse focus. It also has\n * observables which emit when the users mouse enters and leaves a tracked element.\n */\nexport class PointerFocusTracker<T extends FocusableElement> {\n  /** Emits when an element is moused into. */\n  readonly entered: Observable<T> = this._getItemPointerEntries();\n\n  /** Emits when an element is moused out. */\n  readonly exited: Observable<T> = this._getItemPointerExits();\n\n  /** The element currently under mouse focus. */\n  activeElement?: T;\n\n  /** The element previously under mouse focus. */\n  previousElement?: T;\n\n  /** Emits when this is destroyed. */\n  private readonly _destroyed: Subject<void> = new Subject();\n\n  constructor(private readonly _items: QueryList<T>) {\n    this.entered.subscribe(element => (this.activeElement = element));\n    this.exited.subscribe(() => {\n      this.previousElement = this.activeElement;\n      this.activeElement = undefined;\n    });\n  }\n\n  /**\n   * Gets a stream of pointer (mouse) entries into the given items.\n   * This should typically run outside the Angular zone.\n   */\n  private _getItemPointerEntries(): Observable<T> {\n    return defer(() =>\n      this._items.changes.pipe(\n        startWith(this._items),\n        mergeMap((list: QueryList<T>) =>\n          list.map(element =>\n            fromEvent(element._elementRef.nativeElement, 'mouseenter').pipe(\n              mapTo(element),\n              takeUntil(this._items.changes)\n            )\n          )\n        ),\n        mergeAll()\n      )\n    );\n  }\n\n  /**\n   * Gets a stream of pointer (mouse) exits out of the given items.\n   * This should typically run outside the Angular zone.\n   */\n  private _getItemPointerExits() {\n    return defer(() =>\n      this._items.changes.pipe(\n        startWith(this._items),\n        mergeMap((list: QueryList<T>) =>\n          list.map(element =>\n            fromEvent(element._elementRef.nativeElement, 'mouseout').pipe(\n              mapTo(element),\n              takeUntil(this._items.changes)\n            )\n          )\n        ),\n        mergeAll()\n      )\n    );\n  }\n\n  /** Stop the managers listeners. */\n  destroy() {\n    this._destroyed.next();\n    this._destroyed.complete();\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Directive,\n  Input,\n  Output,\n  EventEmitter,\n  QueryList,\n  ContentChildren,\n  AfterContentInit,\n  OnDestroy,\n  Optional,\n  OnInit,\n  NgZone,\n  HostListener,\n  ElementRef,\n  Inject,\n  Self,\n} from '@angular/core';\nimport {FocusKeyManager, FocusOrigin} from '@angular/cdk/a11y';\nimport {\n  LEFT_ARROW,\n  RIGHT_ARROW,\n  UP_ARROW,\n  DOWN_ARROW,\n  ESCAPE,\n  TAB,\n  hasModifierKey,\n} from '@angular/cdk/keycodes';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {merge} from 'rxjs';\nimport {take, takeUntil, startWith, mergeMap, mapTo, mergeAll, switchMap} from 'rxjs/operators';\nimport {CdkMenuGroup} from './menu-group';\nimport {CdkMenuPanel} from './menu-panel';\nimport {Menu, CDK_MENU} from './menu-interface';\nimport {CdkMenuItem} from './menu-item';\nimport {MenuStack, MenuStackItem, FocusNext, NoopMenuStack} from './menu-stack';\nimport {PointerFocusTracker} from './pointer-focus-tracker';\nimport {MENU_AIM, MenuAim} from './menu-aim';\n\n/**\n * Directive which configures the element as a Menu which should contain child elements marked as\n * CdkMenuItem or CdkMenuGroup. Sets the appropriate role and aria-attributes for a menu and\n * contains accessible keyboard and mouse handling logic.\n *\n * It also acts as a RadioGroup for elements marked with role `menuitemradio`.\n */\n@Directive({\n  selector: '[cdkMenu]',\n  exportAs: 'cdkMenu',\n  host: {\n    '[tabindex]': '_isInline() ? 0 : null',\n    'role': 'menu',\n    'class': 'cdk-menu',\n    '[class.cdk-menu-inline]': '_isInline()',\n    '[attr.aria-orientation]': 'orientation',\n  },\n  providers: [\n    {provide: CdkMenuGroup, useExisting: CdkMenu},\n    {provide: CDK_MENU, useExisting: CdkMenu},\n  ],\n})\nexport class CdkMenu extends CdkMenuGroup implements Menu, AfterContentInit, OnInit, OnDestroy {\n  /**\n   * Sets the aria-orientation attribute and determines where menus will be opened.\n   * Does not affect styling/layout.\n   */\n  @Input('cdkMenuOrientation') orientation: 'horizontal' | 'vertical' = 'vertical';\n\n  /** Event emitted when the menu is closed. */\n  @Output() readonly closed: EventEmitter<void | 'click' | 'tab' | 'escape'> = new EventEmitter();\n\n  // We provide a default MenuStack implementation in case the menu is an inline menu.\n  // For Menus part of a MenuBar nested within a MenuPanel this will be overwritten\n  // to the correct parent MenuStack.\n  /** Track the Menus making up the open menu stack. */\n  _menuStack: MenuStack = new NoopMenuStack();\n\n  /** Handles keyboard events for the menu. */\n  private _keyManager: FocusKeyManager<CdkMenuItem>;\n\n  /** Manages items under mouse focus. */\n  private _pointerTracker?: PointerFocusTracker<CdkMenuItem>;\n\n  /** List of nested CdkMenuGroup elements */\n  @ContentChildren(CdkMenuGroup, {descendants: true})\n  private readonly _nestedGroups: QueryList<CdkMenuGroup>;\n\n  /** All child MenuItem elements nested in this Menu. */\n  @ContentChildren(CdkMenuItem, {descendants: true})\n  private readonly _allItems: QueryList<CdkMenuItem>;\n\n  /** The Menu Item which triggered the open submenu. */\n  private _openItem?: CdkMenuItem;\n\n  /**\n   * A reference to the enclosing parent menu panel.\n   *\n   * Required to be set when using ViewEngine since ViewEngine does support injecting a reference to\n   * the parent directive if the parent directive is placed on an `ng-template`. If using Ivy, the\n   * injected value will be used over this one.\n   */\n  @Input('cdkMenuPanel') private readonly _explicitPanel?: CdkMenuPanel;\n\n  constructor(\n    private readonly _ngZone: NgZone,\n    readonly _elementRef: ElementRef<HTMLElement>,\n    @Self() @Optional() @Inject(MENU_AIM) private readonly _menuAim?: MenuAim,\n    @Optional() private readonly _dir?: Directionality,\n    // `CdkMenuPanel` is always used in combination with a `CdkMenu`.\n    // tslint:disable-next-line: lightweight-tokens\n    @Optional() private readonly _menuPanel?: CdkMenuPanel\n  ) {\n    super();\n  }\n\n  ngOnInit() {\n    this._registerWithParentPanel();\n  }\n\n  ngAfterContentInit() {\n    super.ngAfterContentInit();\n\n    this._completeChangeEmitter();\n    this._setKeyManager();\n    this._subscribeToMenuOpen();\n    this._subscribeToMenuStack();\n    this._subscribeToMouseManager();\n\n    this._menuAim?.initialize(this, this._pointerTracker!);\n  }\n\n  // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n  // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n  // can move this back into `host`.\n  // tslint:disable:no-host-decorator-in-concrete\n  @HostListener('focus')\n  /** Place focus on the first MenuItem in the menu and set the focus origin. */\n  focusFirstItem(focusOrigin: FocusOrigin = 'program') {\n    this._keyManager.setFocusOrigin(focusOrigin);\n    this._keyManager.setFirstItemActive();\n  }\n\n  /** Place focus on the last MenuItem in the menu and set the focus origin. */\n  focusLastItem(focusOrigin: FocusOrigin = 'program') {\n    this._keyManager.setFocusOrigin(focusOrigin);\n    this._keyManager.setLastItemActive();\n  }\n\n  // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n  // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n  // can move this back into `host`.\n  // tslint:disable:no-host-decorator-in-concrete\n  @HostListener('keydown', ['$event'])\n  /** Handle keyboard events for the Menu. */\n  _handleKeyEvent(event: KeyboardEvent) {\n    const keyManager = this._keyManager;\n    switch (event.keyCode) {\n      case LEFT_ARROW:\n      case RIGHT_ARROW:\n        if (this._isHorizontal()) {\n          event.preventDefault();\n          keyManager.setFocusOrigin('keyboard');\n          keyManager.onKeydown(event);\n        }\n        break;\n\n      case UP_ARROW:\n      case DOWN_ARROW:\n        if (!this._isHorizontal()) {\n          event.preventDefault();\n          keyManager.setFocusOrigin('keyboard');\n          keyManager.onKeydown(event);\n        }\n        break;\n\n      case ESCAPE:\n        if (!hasModifierKey(event)) {\n          event.preventDefault();\n          this._menuStack.close(this, FocusNext.currentItem);\n        }\n        break;\n\n      case TAB:\n        this._menuStack.closeAll();\n        break;\n\n      default:\n        keyManager.onKeydown(event);\n    }\n  }\n\n  /** Register this menu with its enclosing parent menu panel */\n  private _registerWithParentPanel() {\n    this._getMenuPanel()?._registerMenu(this);\n  }\n\n  /**\n   * Get the enclosing CdkMenuPanel defaulting to the injected reference over the developer\n   * provided reference.\n   */\n  private _getMenuPanel() {\n    return this._menuPanel || this._explicitPanel;\n  }\n\n  /**\n   * Complete the change emitter if there are any nested MenuGroups or register to complete the\n   * change emitter if a MenuGroup is rendered at some point\n   */\n  private _completeChangeEmitter() {\n    if (this._hasNestedGroups()) {\n      this.change.complete();\n    } else {\n      this._nestedGroups.changes.pipe(take(1)).subscribe(() => this.change.complete());\n    }\n  }\n\n  /** Return true if there are nested CdkMenuGroup elements within the Menu */\n  private _hasNestedGroups() {\n    // view engine has a bug where @ContentChildren will return the current element\n    // along with children if the selectors match - not just the children.\n    // Here, if there is at least one element, we check to see if the first element is a CdkMenu in\n    // order to ensure that we return true iff there are child CdkMenuGroup elements.\n    return this._nestedGroups.length > 0 && !(this._nestedGroups.first instanceof CdkMenu);\n  }\n\n  /** Setup the FocusKeyManager with the correct orientation for the menu. */\n  private _setKeyManager() {\n    this._keyManager = new FocusKeyManager(this._allItems)\n      .withWrap()\n      .withTypeAhead()\n      .withHomeAndEnd();\n\n    if (this._isHorizontal()) {\n      this._keyManager.withHorizontalOrientation(this._dir?.value || 'ltr');\n    } else {\n      this._keyManager.withVerticalOrientation();\n    }\n  }\n\n  /**\n   * Set the PointerFocusTracker and ensure that when mouse focus changes the key manager is updated\n   * with the latest menu item under mouse focus.\n   */\n  private _subscribeToMouseManager() {\n    this._ngZone.runOutsideAngular(() => {\n      this._pointerTracker = new PointerFocusTracker(this._allItems);\n      this._pointerTracker.entered\n        .pipe(takeUntil(this.closed))\n        .subscribe(item => this._keyManager.setActiveItem(item));\n    });\n  }\n\n  /** Subscribe to the MenuStack close and empty observables. */\n  private _subscribeToMenuStack() {\n    this._menuStack.closed\n      .pipe(takeUntil(this.closed))\n      .subscribe(item => this._closeOpenMenu(item));\n\n    this._menuStack.emptied\n      .pipe(takeUntil(this.closed))\n      .subscribe(event => this._toggleMenuFocus(event));\n  }\n\n  /**\n   * Close the open menu if the current active item opened the requested MenuStackItem.\n   * @param item the MenuStackItem requested to be closed.\n   */\n  private _closeOpenMenu(menu: MenuStackItem | undefined) {\n    const keyManager = this._keyManager;\n    const trigger = this._openItem;\n    if (menu === trigger?.getMenuTrigger()?.getMenu()) {\n      trigger?.getMenuTrigger()?.closeMenu();\n      // If the user has moused over a sibling item we want to focus the element under mouse focus\n      // not the trigger which previously opened the now closed menu.\n      if (trigger) {\n        keyManager.setActiveItem(this._pointerTracker?.activeElement || trigger);\n      }\n    }\n  }\n\n  /** Set focus the either the current, previous or next item based on the FocusNext event. */\n  private _toggleMenuFocus(event: FocusNext | undefined) {\n    const keyManager = this._keyManager;\n    switch (event) {\n      case FocusNext.nextItem:\n        keyManager.setFocusOrigin('keyboard');\n        keyManager.setNextItemActive();\n        break;\n\n      case FocusNext.previousItem:\n        keyManager.setFocusOrigin('keyboard');\n        keyManager.setPreviousItemActive();\n        break;\n\n      case FocusNext.currentItem:\n        if (keyManager.activeItem) {\n          keyManager.setFocusOrigin('keyboard');\n          keyManager.setActiveItem(keyManager.activeItem);\n        }\n        break;\n    }\n  }\n\n  // TODO(andy9775): remove duplicate logic between menu an menu bar\n  /**\n   * Subscribe to the menu trigger's open events in order to track the trigger which opened the menu\n   * and stop tracking it when the menu is closed.\n   */\n  private _subscribeToMenuOpen() {\n    const exitCondition = merge(this._allItems.changes, this.closed);\n    this._allItems.changes\n      .pipe(\n        startWith(this._allItems),\n        mergeMap((list: QueryList<CdkMenuItem>) =>\n          list\n            .filter(item => item.hasMenu())\n            .map(item => item.getMenuTrigger()!.opened.pipe(mapTo(item), takeUntil(exitCondition)))\n        ),\n        mergeAll(),\n        switchMap((item: CdkMenuItem) => {\n          this._openItem = item;\n          return item.getMenuTrigger()!.closed;\n        }),\n        takeUntil(this.closed)\n      )\n      .subscribe(() => (this._openItem = undefined));\n  }\n\n  /** Return true if this menu has been configured in a horizontal orientation. */\n  private _isHorizontal() {\n    return this.orientation === 'horizontal';\n  }\n\n  /**\n   * Return true if this menu is an inline menu. That is, it does not exist in a pop-up and is\n   * always visible in the dom.\n   */\n  _isInline() {\n    // NoopMenuStack is the default. If this menu is not inline than the NoopMenuStack is replaced\n    // automatically.\n    return this._menuStack instanceof NoopMenuStack;\n  }\n\n  ngOnDestroy() {\n    this._emitClosedEvent();\n    this._pointerTracker?.destroy();\n  }\n\n  /** Emit and complete the closed event emitter */\n  private _emitClosedEvent() {\n    this.closed.next();\n    this.closed.complete();\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Directive,\n  Input,\n  ContentChildren,\n  QueryList,\n  AfterContentInit,\n  OnDestroy,\n  Optional,\n  NgZone,\n  HostListener,\n  ElementRef,\n  Inject,\n  Self,\n} from '@angular/core';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {FocusKeyManager, FocusOrigin} from '@angular/cdk/a11y';\nimport {LEFT_ARROW, RIGHT_ARROW, UP_ARROW, DOWN_ARROW, ESCAPE, TAB} from '@angular/cdk/keycodes';\nimport {takeUntil, mergeAll, mapTo, startWith, mergeMap, switchMap} from 'rxjs/operators';\nimport {Subject, merge} from 'rxjs';\nimport {CdkMenuGroup} from './menu-group';\nimport {CDK_MENU, Menu} from './menu-interface';\nimport {CdkMenuItem} from './menu-item';\nimport {MenuStack, MenuStackItem, FocusNext} from './menu-stack';\nimport {PointerFocusTracker} from './pointer-focus-tracker';\nimport {MenuAim, MENU_AIM} from './menu-aim';\n\n/**\n * Directive applied to an element which configures it as a MenuBar by setting the appropriate\n * role, aria attributes, and accessible keyboard and mouse handling logic. The component that\n * this directive is applied to should contain components marked with CdkMenuItem.\n *\n */\n@Directive({\n  selector: '[cdkMenuBar]',\n  exportAs: 'cdkMenuBar',\n  host: {\n    'role': 'menubar',\n    'class': 'cdk-menu-bar',\n    'tabindex': '0',\n    '[attr.aria-orientation]': 'orientation',\n  },\n  providers: [\n    {provide: CdkMenuGroup, useExisting: CdkMenuBar},\n    {provide: CDK_MENU, useExisting: CdkMenuBar},\n    {provide: MenuStack, useClass: MenuStack},\n  ],\n})\nexport class CdkMenuBar extends CdkMenuGroup implements Menu, AfterContentInit, OnDestroy {\n  /**\n   * Sets the aria-orientation attribute and determines where menus will be opened.\n   * Does not affect styling/layout.\n   */\n  @Input('cdkMenuBarOrientation') orientation: 'horizontal' | 'vertical' = 'horizontal';\n\n  /** Handles keyboard events for the MenuBar. */\n  private _keyManager: FocusKeyManager<CdkMenuItem>;\n\n  /** Manages items under mouse focus */\n  private _pointerTracker?: PointerFocusTracker<CdkMenuItem>;\n\n  /** Emits when the MenuBar is destroyed. */\n  private readonly _destroyed: Subject<void> = new Subject();\n\n  /** All child MenuItem elements nested in this MenuBar. */\n  @ContentChildren(CdkMenuItem, {descendants: true})\n  private readonly _allItems: QueryList<CdkMenuItem>;\n\n  /** The Menu Item which triggered the open submenu. */\n  private _openItem?: CdkMenuItem;\n\n  constructor(\n    readonly _menuStack: MenuStack,\n    private readonly _ngZone: NgZone,\n    readonly _elementRef: ElementRef<HTMLElement>,\n    @Self() @Optional() @Inject(MENU_AIM) private readonly _menuAim?: MenuAim,\n    @Optional() private readonly _dir?: Directionality\n  ) {\n    super();\n  }\n\n  ngAfterContentInit() {\n    super.ngAfterContentInit();\n\n    this._setKeyManager();\n    this._subscribeToMenuOpen();\n    this._subscribeToMenuStack();\n    this._subscribeToMouseManager();\n\n    this._menuAim?.initialize(this, this._pointerTracker!);\n  }\n\n  // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n  // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n  // can move this back into `host`.\n  // tslint:disable:no-host-decorator-in-concrete\n  @HostListener('focus')\n  /** Place focus on the first MenuItem in the menu and set the focus origin. */\n  focusFirstItem(focusOrigin: FocusOrigin = 'program') {\n    this._keyManager.setFocusOrigin(focusOrigin);\n    this._keyManager.setFirstItemActive();\n  }\n\n  /** Place focus on the last MenuItem in the menu and set the focus origin. */\n  focusLastItem(focusOrigin: FocusOrigin = 'program') {\n    this._keyManager.setFocusOrigin(focusOrigin);\n    this._keyManager.setLastItemActive();\n  }\n\n  // In Ivy the `host` metadata will be merged, whereas in ViewEngine it is overridden. In order\n  // to avoid double event listeners, we need to use `HostListener`. Once Ivy is the default, we\n  // can move this back into `host`.\n  // tslint:disable:no-host-decorator-in-concrete\n  @HostListener('keydown', ['$event'])\n  /**\n   * Handle keyboard events, specifically changing the focused element and/or toggling the active\n   * items menu.\n   * @param event the KeyboardEvent to handle.\n   */\n  _handleKeyEvent(event: KeyboardEvent) {\n    const keyManager = this._keyManager;\n    switch (event.keyCode) {\n      case UP_ARROW:\n      case DOWN_ARROW:\n      case LEFT_ARROW:\n      case RIGHT_ARROW:\n        const horizontalArrows = event.keyCode === LEFT_ARROW || event.keyCode === RIGHT_ARROW;\n        // For a horizontal menu if the left/right keys were clicked, or a vertical menu if the\n        // up/down keys were clicked: if the current menu is open, close it then focus and open the\n        // next  menu.\n        if (\n          (this._isHorizontal() && horizontalArrows) ||\n          (!this._isHorizontal() && !horizontalArrows)\n        ) {\n          event.preventDefault();\n\n          const prevIsOpen = keyManager.activeItem?.isMenuOpen();\n          keyManager.activeItem?.getMenuTrigger()?.closeMenu();\n\n          keyManager.setFocusOrigin('keyboard');\n          keyManager.onKeydown(event);\n          if (prevIsOpen) {\n            keyManager.activeItem?.getMenuTrigger()?.openMenu();\n          }\n        }\n        break;\n\n      case ESCAPE:\n        event.preventDefault();\n        keyManager.activeItem?.getMenuTrigger()?.closeMenu();\n        break;\n\n      case TAB:\n        keyManager.activeItem?.getMenuTrigger()?.closeMenu();\n        break;\n\n      default:\n        keyManager.onKeydown(event);\n    }\n  }\n\n  /** Setup the FocusKeyManager with the correct orientation for the menu bar. */\n  private _setKeyManager() {\n    this._keyManager = new FocusKeyManager(this._allItems)\n      .withWrap()\n      .withTypeAhead()\n      .withHomeAndEnd();\n\n    if (this._isHorizontal()) {\n      this._keyManager.withHorizontalOrientation(this._dir?.value || 'ltr');\n    } else {\n      this._keyManager.withVerticalOrientation();\n    }\n  }\n\n  /**\n   * Set the PointerFocusTracker and ensure that when mouse focus changes the key manager is updated\n   * with the latest menu item under mouse focus.\n   */\n  private _subscribeToMouseManager() {\n    this._ngZone.runOutsideAngular(() => {\n      this._pointerTracker = new PointerFocusTracker(this._allItems);\n      this._pointerTracker.entered.pipe(takeUntil(this._destroyed)).subscribe(item => {\n        if (this._hasOpenSubmenu()) {\n          this._keyManager.setActiveItem(item);\n        }\n      });\n    });\n  }\n\n  /** Subscribe to the MenuStack close and empty observables. */\n  private _subscribeToMenuStack() {\n    this._menuStack.closed\n      .pipe(takeUntil(this._destroyed))\n      .subscribe(item => this._closeOpenMenu(item));\n\n    this._menuStack.emptied\n      .pipe(takeUntil(this._destroyed))\n      .subscribe(event => this._toggleOpenMenu(event));\n  }\n\n  /**\n   * Close the open menu if the current active item opened the requested MenuStackItem.\n   * @param item the MenuStackItem requested to be closed.\n   */\n  private _closeOpenMenu(menu: MenuStackItem | undefined) {\n    const trigger = this._openItem;\n    const keyManager = this._keyManager;\n    if (menu === trigger?.getMenuTrigger()?.getMenu()) {\n      trigger?.getMenuTrigger()?.closeMenu();\n      // If the user has moused over a sibling item we want to focus the element under mouse focus\n      // not the trigger which previously opened the now closed menu.\n      if (trigger) {\n        keyManager.setActiveItem(this._pointerTracker?.activeElement || trigger);\n      }\n    }\n  }\n\n  /**\n   * Set focus to either the current, previous or next item based on the FocusNext event, then\n   * open the previous or next item.\n   */\n  private _toggleOpenMenu(event: FocusNext | undefined) {\n    const keyManager = this._keyManager;\n    switch (event) {\n      case FocusNext.nextItem:\n        keyManager.setFocusOrigin('keyboard');\n        keyManager.setNextItemActive();\n        keyManager.activeItem?.getMenuTrigger()?.openMenu();\n        break;\n\n      case FocusNext.previousItem:\n        keyManager.setFocusOrigin('keyboard');\n        keyManager.setPreviousItemActive();\n        keyManager.activeItem?.getMenuTrigger()?.openMenu();\n        break;\n\n      case FocusNext.currentItem:\n        if (keyManager.activeItem) {\n          keyManager.setFocusOrigin('keyboard');\n          keyManager.setActiveItem(keyManager.activeItem);\n        }\n        break;\n    }\n  }\n\n  /**\n   * @return true if the menu bar is configured to be horizontal.\n   */\n  private _isHorizontal() {\n    return this.orientation === 'horizontal';\n  }\n\n  /**\n   * Subscribe to the menu trigger's open events in order to track the trigger which opened the menu\n   * and stop tracking it when the menu is closed.\n   */\n  private _subscribeToMenuOpen() {\n    const exitCondition = merge(this._allItems.changes, this._destroyed);\n    this._allItems.changes\n      .pipe(\n        startWith(this._allItems),\n        mergeMap((list: QueryList<CdkMenuItem>) =>\n          list\n            .filter(item => item.hasMenu())\n            .map(item => item.getMenuTrigger()!.opened.pipe(mapTo(item), takeUntil(exitCondition)))\n        ),\n        mergeAll(),\n        switchMap((item: CdkMenuItem) => {\n          this._openItem = item;\n          return item.getMenuTrigger()!.closed;\n        }),\n        takeUntil(this._destroyed)\n      )\n      .subscribe(() => (this._openItem = undefined));\n  }\n\n  /** Return true if the MenuBar has an open submenu. */\n  private _hasOpenSubmenu() {\n    return !!this._openItem;\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n\n    this._destroyed.next();\n    this._destroyed.complete();\n\n    this._pointerTracker?.destroy();\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {UniqueSelectionDispatcher} from '@angular/cdk/collections';\nimport {Directive, OnDestroy, ElementRef, Self, Optional, Inject, NgZone} from '@angular/core';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {CdkMenuItemSelectable} from './menu-item-selectable';\nimport {CdkMenuItem} from './menu-item';\nimport {CdkMenuItemTrigger} from './menu-item-trigger';\nimport {CDK_MENU, Menu} from './menu-interface';\nimport {MENU_AIM, MenuAim} from './menu-aim';\n\n/**\n * A directive providing behavior for the \"menuitemradio\" ARIA role, which behaves similarly to\n * a conventional radio-button. Any sibling `CdkMenuItemRadio` instances within the same `CdkMenu`\n * or `CdkMenuGroup` comprise a radio group with unique selection enforced.\n */\n@Directive({\n  selector: '[cdkMenuItemRadio]',\n  exportAs: 'cdkMenuItemRadio',\n  host: {\n    '[tabindex]': '_tabindex',\n    'type': 'button',\n    'role': 'menuitemradio',\n    '[attr.aria-checked]': 'checked || null',\n    '[attr.aria-disabled]': 'disabled || null',\n  },\n  providers: [\n    {provide: CdkMenuItemSelectable, useExisting: CdkMenuItemRadio},\n    {provide: CdkMenuItem, useExisting: CdkMenuItemSelectable},\n  ],\n})\nexport class CdkMenuItemRadio extends CdkMenuItemSelectable implements OnDestroy {\n  /** Function to unregister the selection dispatcher */\n  private _removeDispatcherListener: () => void;\n\n  constructor(\n    private readonly _selectionDispatcher: UniqueSelectionDispatcher,\n    element: ElementRef<HTMLElement>,\n    ngZone: NgZone,\n    @Optional() @Inject(CDK_MENU) parentMenu?: Menu,\n    @Optional() @Inject(MENU_AIM) menuAim?: MenuAim,\n    @Optional() dir?: Directionality,\n    /** Reference to the CdkMenuItemTrigger directive if one is added to the same element */\n    // `CdkMenuItemRadio` is commonly used in combination with a `CdkMenuItemTrigger`.\n    // tslint:disable-next-line: lightweight-tokens\n    @Self() @Optional() menuTrigger?: CdkMenuItemTrigger\n  ) {\n    super(element, ngZone, parentMenu, menuAim, dir, menuTrigger);\n\n    this._registerDispatcherListener();\n  }\n\n  /** Configure the unique selection dispatcher listener in order to toggle the checked state  */\n  private _registerDispatcherListener() {\n    this._removeDispatcherListener = this._selectionDispatcher.listen(\n      (id: string, name: string) => (this.checked = this.id === id && this.name === name)\n    );\n  }\n\n  /** Toggles the checked state of the radio-button. */\n  trigger() {\n    super.trigger();\n\n    if (!this.disabled) {\n      this._selectionDispatcher.notify(this.id, this.name);\n    }\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    this._removeDispatcherListener();\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive} from '@angular/core';\nimport {CdkMenuItemSelectable} from './menu-item-selectable';\nimport {CdkMenuItem} from './menu-item';\n\n/**\n * A directive providing behavior for the \"menuitemcheckbox\" ARIA role, which behaves similarly to a\n * conventional checkbox.\n */\n@Directive({\n  selector: '[cdkMenuItemCheckbox]',\n  exportAs: 'cdkMenuItemCheckbox',\n  host: {\n    '[tabindex]': '_tabindex',\n    'type': 'button',\n    'role': 'menuitemcheckbox',\n    '[attr.aria-checked]': 'checked || null',\n    '[attr.aria-disabled]': 'disabled || null',\n  },\n  providers: [\n    {provide: CdkMenuItemSelectable, useExisting: CdkMenuItemCheckbox},\n    {provide: CdkMenuItem, useExisting: CdkMenuItemSelectable},\n  ],\n})\nexport class CdkMenuItemCheckbox extends CdkMenuItemSelectable {\n  /** Toggle the checked state of the checkbox. */\n  trigger() {\n    super.trigger();\n\n    if (!this.disabled) {\n      this.checked = !this.checked;\n    }\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  Directive,\n  Input,\n  ViewContainerRef,\n  Output,\n  EventEmitter,\n  Optional,\n  OnDestroy,\n  Inject,\n  Injectable,\n  InjectionToken,\n} from '@angular/core';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {\n  OverlayRef,\n  Overlay,\n  OverlayConfig,\n  FlexibleConnectedPositionStrategy,\n  ConnectedPosition,\n} from '@angular/cdk/overlay';\nimport {TemplatePortal, Portal} from '@angular/cdk/portal';\nimport {coerceBooleanProperty, BooleanInput} from '@angular/cdk/coercion';\nimport {Subject, merge} from 'rxjs';\nimport {takeUntil} from 'rxjs/operators';\nimport {CdkMenuPanel} from './menu-panel';\nimport {MenuStack} from './menu-stack';\nimport {throwExistingMenuStackError} from './menu-errors';\nimport {isClickInsideMenuOverlay} from './menu-item-trigger';\n\n/** Tracks the last open context menu trigger across the entire application. */\n@Injectable({providedIn: 'root'})\nexport class ContextMenuTracker {\n  /** The last open context menu trigger. */\n  private static _openContextMenuTrigger?: CdkContextMenuTrigger;\n\n  /**\n   * Close the previous open context menu and set the given one as being open.\n   * @param trigger the trigger for the currently open Context Menu.\n   */\n  update(trigger: CdkContextMenuTrigger) {\n    if (ContextMenuTracker._openContextMenuTrigger !== trigger) {\n      ContextMenuTracker._openContextMenuTrigger?.close();\n      ContextMenuTracker._openContextMenuTrigger = trigger;\n    }\n  }\n}\n\n/** Configuration options passed to the context menu. */\nexport type ContextMenuOptions = {\n  /** The opened menus X coordinate offset from the triggering position. */\n  offsetX: number;\n\n  /** The opened menus Y coordinate offset from the triggering position. */\n  offsetY: number;\n};\n\n/** Injection token for the ContextMenu options object. */\nexport const CDK_CONTEXT_MENU_DEFAULT_OPTIONS = new InjectionToken<ContextMenuOptions>(\n  'cdk-context-menu-default-options'\n);\n\n/** The coordinates of where the context menu should open. */\nexport type ContextMenuCoordinates = {x: number; y: number};\n\n/**\n * A directive which when placed on some element opens a the Menu it is bound to when a user\n * right-clicks within that element. It is aware of nested Context Menus and the lowest level\n * non-disabled context menu will trigger.\n */\n@Directive({\n  selector: '[cdkContextMenuTriggerFor]',\n  exportAs: 'cdkContextMenuTriggerFor',\n  host: {\n    '(contextmenu)': '_openOnContextMenu($event)',\n  },\n  providers: [\n    // In cases where the first menu item in the context menu is a trigger the submenu opens on a\n    // hover event. Offsetting the opened context menu by 2px prevents this from occurring.\n    {provide: CDK_CONTEXT_MENU_DEFAULT_OPTIONS, useValue: {offsetX: 2, offsetY: 2}},\n  ],\n})\nexport class CdkContextMenuTrigger implements OnDestroy {\n  /** Template reference variable to the menu to open on right click. */\n  @Input('cdkContextMenuTriggerFor')\n  get menuPanel(): CdkMenuPanel {\n    return this._menuPanel;\n  }\n  set menuPanel(panel: CdkMenuPanel) {\n    if ((typeof ngDevMode === 'undefined' || ngDevMode) && panel._menuStack) {\n      throwExistingMenuStackError();\n    }\n    this._menuPanel = panel;\n\n    if (this._menuPanel) {\n      this._menuPanel._menuStack = this._menuStack;\n    }\n  }\n  /** Reference to the MenuPanel this trigger toggles. */\n  private _menuPanel: CdkMenuPanel;\n\n  /** Emits when the attached menu is requested to open. */\n  @Output('cdkContextMenuOpened') readonly opened: EventEmitter<void> = new EventEmitter();\n\n  /** Emits when the attached menu is requested to close. */\n  @Output('cdkContextMenuClosed') readonly closed: EventEmitter<void> = new EventEmitter();\n\n  /** Whether the context menu should be disabled. */\n  @Input('cdkContextMenuDisabled')\n  get disabled() {\n    return this._disabled;\n  }\n  set disabled(value: boolean) {\n    this._disabled = coerceBooleanProperty(value);\n  }\n  private _disabled = false;\n\n  /** A reference to the overlay which manages the triggered menu. */\n  private _overlayRef: OverlayRef | null = null;\n\n  /** The content of the menu panel opened by this trigger. */\n  private _panelContent: TemplatePortal;\n\n  /** Emits when the element is destroyed. */\n  private readonly _destroyed = new Subject<void>();\n\n  /** The menu stack for this trigger and its associated menus. */\n  private readonly _menuStack = new MenuStack();\n\n  /** Emits when the outside pointer events listener on the overlay should be stopped. */\n  private readonly _stopOutsideClicksListener = merge(this.closed, this._destroyed);\n\n  constructor(\n    protected readonly _viewContainerRef: ViewContainerRef,\n    private readonly _overlay: Overlay,\n    private readonly _contextMenuTracker: ContextMenuTracker,\n    @Inject(CDK_CONTEXT_MENU_DEFAULT_OPTIONS) private readonly _options: ContextMenuOptions,\n    @Optional() private readonly _directionality?: Directionality\n  ) {\n    this._setMenuStackListener();\n  }\n\n  /**\n   * Open the attached menu at the specified location.\n   * @param coordinates where to open the context menu\n   */\n  open(coordinates: ContextMenuCoordinates) {\n    if (this.disabled) {\n      return;\n    } else if (this.isOpen()) {\n      // since we're moving this menu we need to close any submenus first otherwise they end up\n      // disconnected from this one.\n      this._menuStack.closeSubMenuOf(this._menuPanel._menu!);\n\n      (this._overlayRef!.getConfig()\n        .positionStrategy as FlexibleConnectedPositionStrategy).setOrigin(coordinates);\n      this._overlayRef!.updatePosition();\n    } else {\n      this.opened.next();\n\n      if (this._overlayRef) {\n        (this._overlayRef.getConfig()\n          .positionStrategy as FlexibleConnectedPositionStrategy).setOrigin(coordinates);\n        this._overlayRef.updatePosition();\n      } else {\n        this._overlayRef = this._overlay.create(this._getOverlayConfig(coordinates));\n      }\n\n      this._overlayRef.attach(this._getMenuContent());\n      this._subscribeToOutsideClicks();\n    }\n  }\n\n  /** Close the opened menu. */\n  close() {\n    this._menuStack.closeAll();\n  }\n\n  /**\n   * Open the context menu and close any previously open menus.\n   * @param event the mouse event which opens the context menu.\n   */\n  _openOnContextMenu(event: MouseEvent) {\n    if (!this.disabled) {\n      // Prevent the native context menu from opening because we're opening a custom one.\n      event.preventDefault();\n\n      // Stop event propagation to ensure that only the closest enabled context menu opens.\n      // Otherwise, any context menus attached to containing elements would *also* open,\n      // resulting in multiple stacked context menus being displayed.\n      event.stopPropagation();\n\n      this._contextMenuTracker.update(this);\n      this.open({x: event.clientX, y: event.clientY});\n\n      // A context menu can be triggered via a mouse right click or a keyboard shortcut.\n      if (event.button === 2) {\n        this._menuPanel._menu?.focusFirstItem('mouse');\n      } else if (event.button === 0) {\n        this._menuPanel._menu?.focusFirstItem('keyboard');\n      } else {\n        this._menuPanel._menu?.focusFirstItem('program');\n      }\n    }\n  }\n\n  /** Whether the attached menu is open. */\n  isOpen() {\n    return !!this._overlayRef?.hasAttached();\n  }\n\n  /**\n   * Get the configuration object used to create the overlay.\n   * @param coordinates the location to place the opened menu\n   */\n  private _getOverlayConfig(coordinates: ContextMenuCoordinates) {\n    return new OverlayConfig({\n      positionStrategy: this._getOverlayPositionStrategy(coordinates),\n      scrollStrategy: this._overlay.scrollStrategies.block(),\n      direction: this._directionality,\n    });\n  }\n\n  /**\n   * Build the position strategy for the overlay which specifies where to place the menu.\n   * @param coordinates the location to place the opened menu\n   */\n  private _getOverlayPositionStrategy(\n    coordinates: ContextMenuCoordinates\n  ): FlexibleConnectedPositionStrategy {\n    return this._overlay\n      .position()\n      .flexibleConnectedTo(coordinates)\n      .withDefaultOffsetX(this._options.offsetX)\n      .withDefaultOffsetY(this._options.offsetY)\n      .withPositions(this._getOverlayPositions());\n  }\n\n  /**\n   * Determine and return where to position the opened menu relative to the mouse location.\n   */\n  private _getOverlayPositions(): ConnectedPosition[] {\n    // TODO: this should be configurable through the injected context menu options\n    return [\n      {originX: 'end', originY: 'top', overlayX: 'start', overlayY: 'top'},\n      {originX: 'start', originY: 'top', overlayX: 'end', overlayY: 'top'},\n      {originX: 'end', originY: 'bottom', overlayX: 'start', overlayY: 'bottom'},\n      {originX: 'start', originY: 'bottom', overlayX: 'end', overlayY: 'bottom'},\n    ];\n  }\n\n  /**\n   * Get the portal to be attached to the overlay which contains the menu. Allows for the menu\n   * content to change dynamically and be reflected in the application.\n   */\n  private _getMenuContent(): Portal<unknown> {\n    const hasMenuContentChanged = this.menuPanel._templateRef !== this._panelContent?.templateRef;\n    if (this.menuPanel && (!this._panelContent || hasMenuContentChanged)) {\n      this._panelContent = new TemplatePortal(this.menuPanel._templateRef, this._viewContainerRef);\n    }\n\n    return this._panelContent;\n  }\n\n  /** Subscribe to the menu stack close events and close this menu when requested. */\n  private _setMenuStackListener() {\n    this._menuStack.closed.pipe(takeUntil(this._destroyed)).subscribe(item => {\n      if (item === this._menuPanel._menu && this.isOpen()) {\n        this.closed.next();\n        this._overlayRef!.detach();\n      }\n    });\n  }\n\n  /**\n   * Subscribe to the overlays outside pointer events stream and handle closing out the stack if a\n   * click occurs outside the menus.\n   */\n  private _subscribeToOutsideClicks() {\n    if (this._overlayRef) {\n      this._overlayRef\n        .outsidePointerEvents()\n        .pipe(takeUntil(this._stopOutsideClicksListener))\n        .subscribe(event => {\n          if (!isClickInsideMenuOverlay(event.target as Element)) {\n            this._menuStack.closeAll();\n          }\n        });\n    }\n  }\n\n  ngOnDestroy() {\n    this._destroyOverlay();\n    this._resetPanelMenuStack();\n\n    this._destroyed.next();\n    this._destroyed.complete();\n  }\n\n  /** Destroy and unset the overlay reference it if exists. */\n  private _destroyOverlay() {\n    if (this._overlayRef) {\n      this._overlayRef.dispose();\n      this._overlayRef = null;\n    }\n  }\n\n  /** Set the menu panels menu stack back to null. */\n  private _resetPanelMenuStack() {\n    // If a ContextMenuTrigger is placed in a conditionally rendered view, each time the trigger is\n    // rendered the panel setter for ContextMenuTrigger is called. From the first render onward,\n    // the attached CdkMenuPanel has the MenuStack set. Since we throw an error if a panel already\n    // has a stack set, we want to reset the attached stack here to prevent the error from being\n    // thrown if the trigger re-configures its attached panel (in the case where there is a 1:1\n    // relationship between the panel and trigger).\n    if (this._menuPanel) {\n      this._menuPanel._menuStack = null;\n    }\n  }\n\n  static ngAcceptInputType_disabled: BooleanInput;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule} from '@angular/core';\nimport {OverlayModule} from '@angular/cdk/overlay';\nimport {CdkMenu} from './menu';\nimport {CdkMenuBar} from './menu-bar';\nimport {CdkMenuPanel} from './menu-panel';\nimport {CdkMenuItem} from './menu-item';\nimport {CdkMenuGroup} from './menu-group';\nimport {CdkMenuItemRadio} from './menu-item-radio';\nimport {CdkMenuItemCheckbox} from './menu-item-checkbox';\nimport {CdkMenuItemTrigger} from './menu-item-trigger';\nimport {CdkContextMenuTrigger} from './context-menu';\nimport {CdkTargetMenuAim} from './menu-aim';\n\nconst EXPORTED_DECLARATIONS = [\n  CdkMenuBar,\n  CdkMenu,\n  CdkMenuPanel,\n  CdkMenuItem,\n  CdkMenuItemRadio,\n  CdkMenuItemCheckbox,\n  CdkMenuItemTrigger,\n  CdkMenuGroup,\n  CdkContextMenuTrigger,\n  CdkTargetMenuAim,\n];\n@NgModule({\n  imports: [OverlayModule],\n  exports: EXPORTED_DECLARATIONS,\n  declarations: EXPORTED_DECLARATIONS,\n})\nexport class CdkMenuModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nexport * from './menu-module';\nexport * from './menu-bar';\nexport * from './menu';\nexport * from './menu-item';\nexport * from './menu-item-checkbox';\nexport * from './menu-item-radio';\nexport * from './menu-item-trigger';\nexport * from './menu-panel';\nexport * from './menu-group';\nexport * from './context-menu';\n\nexport {MenuStack, MenuStackItem} from './menu-stack';\nexport {CDK_MENU} from './menu-interface';\nexport {TargetMenuAim, MenuAim, MENU_AIM, CdkTargetMenuAim} from './menu-aim';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {Menu as angular_material_src_cdk_experimental_menu_menu_a} from './menu-interface';\nexport {CdkMenuItemSelectable as angular_material_src_cdk_experimental_menu_menu_b} from './menu-item-selectable';"],"names":["InjectionToken","Subject","fromEvent","filter","takeUntil","Injectable","NgZone","Directive","EventEmitter","merge","SPACE","ENTER","RIGHT_ARROW","LEFT_ARROW","DOWN_ARROW","UP_ARROW","OverlayConfig","TemplatePortal","ElementRef","ViewContainerRef","Overlay","Optional","Inject","Directionality","Input","Output","coerceBooleanProperty","Self","HostListener","UniqueSelectionDispatcher","ContentChildren","TemplateRef","defer","startWith","mergeMap","mapTo","mergeAll","ESCAPE","hasModifierKey","TAB","take","FocusKeyManager","switchMap","NgModule","OverlayModule"],"mappings":"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"}